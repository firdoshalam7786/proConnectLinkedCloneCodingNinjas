(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{2190:e=>{e.exports={container:"profile_container__oOWE6",backDropContainer:"profile_backDropContainer__yjSzu",profileContainer_details:"profile_profileContainer_details__VrJ1Y",card:"profile_card__cvuSz",card_profileContainer:"profile_card_profileContainer__KI0ty",backDrop_overlay:"profile_backDrop_overlay__Ioptc",connectBtn:"profile_connectBtn__LkEe3",connectedButton:"profile_connectedButton__C6BMm",workHistoryContainer:"profile_workHistoryContainer__KZucT",workHistoryCard:"profile_workHistoryCard__VOhd6",nameEdit:"profile_nameEdit__JI1j_",updateProfileBtn:"profile_updateProfileBtn__juKZ3",addWorkButton:"profile_addWorkButton__HeXb9",commentsContainer:"profile_commentsContainer__yjsIq",allCommentsContainer:"profile_allCommentsContainer__IVHMT",inputField:"profile_inputField__MuZ1h"}},4188:(e,o,r)=>{"use strict";r.d(o,{A:()=>d});var n=r(7876),s=r(4232),t=r(7345),i=r.n(t),a=r(9099),l=r(1520),c=r(1777);function d(e){let{children:o}=e,r=(0,a.useRouter)(),t=(0,c.wA)(),d=(0,c.d4)(e=>e.auth);return(0,s.useEffect)(()=>{null===localStorage.getItem("token")&&r.push("/login"),t((0,l.uB)())}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:i().container,children:(0,n.jsxs)("div",{className:i().HomeContainer,children:[(0,n.jsxs)("div",{className:i().HomeContainer_leftBar,children:[(0,n.jsxs)("div",{onClick:()=>{r.push("/dashboard")},className:i().sideBarOption,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,n.jsx)("p",{children:"Scroll"})]}),(0,n.jsxs)("div",{onClick:()=>{r.push("/discover")},className:i().sideBarOption,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),(0,n.jsx)("p",{children:"Discover"})]}),(0,n.jsxs)("div",{onClick:()=>{r.push("/my_connections")},className:i().sideBarOption,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,n.jsx)("p",{children:"My Connections"})]})]}),(0,n.jsx)("div",{className:i().HomeContainer_feedContainer,children:o}),(0,n.jsxs)("div",{className:i().HomeContainer_extraContainer,children:[(0,n.jsx)("h3",{children:"Top Profiles"}),d.all_profiles_fetched&&d.all_users.map(e=>(0,n.jsx)("div",{className:i().extraContainer_profile,children:(0,n.jsx)("p",{children:e.userId.name})},e._id))]})]})}),(0,n.jsxs)("div",{className:i().mobileNavBar,children:[(0,n.jsx)("div",{onClick:()=>{r.push("/dashboard")},className:i().singleNavItemHolder_mobileView,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,n.jsx)("div",{onClick:()=>{r.push("/discover")},className:i().singleNavItemHolder_mobileView,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),(0,n.jsx)("div",{onClick:()=>{r.push("/my_connections")},className:i().singleNavItemHolder_mobileView,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},6759:(e,o,r)=>{"use strict";r.d(o,{A:()=>d});var n=r(7876);r(4232);var s=r(8883),t=r.n(s),i=r(9099),a=r(1777),l=r(1520);function c(){let e=(0,i.useRouter)(),o=(0,a.wA)(),r=(0,a.d4)(e=>e.auth);return(0,n.jsx)("div",{className:t().container,children:(0,n.jsxs)("nav",{className:t().navBar,children:[(0,n.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"Pro Connect"}),(0,n.jsxs)("div",{className:t().nabBarOptionContainer,children:[r.profileFetched&&(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,n.jsx)("p",{style:{color:"blue"},children:r.user.userId.name}),(0,n.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,n.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!r.profileFetched&&(0,n.jsx)("div",{onClick:()=>{e.push("/login"),o((0,l.cL)())},className:t().buttonJoin,children:"Be a part"})]})]})})}let d=function(e){let{children:o}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(c,{}),o]})}},7345:e=>{e.exports={HomeContainer:"DashboardLayout_HomeContainer__Qdiln",HomeContainer_leftBar:"DashboardLayout_HomeContainer_leftBar__v2dNu",sideBarOption:"DashboardLayout_sideBarOption__MHfOg",HomeContainer_extraContainer:"DashboardLayout_HomeContainer_extraContainer__2zQUf",HomeContainer_feedContainer:"DashboardLayout_HomeContainer_feedContainer__nPMPI",mobileNavBar:"DashboardLayout_mobileNavBar__oSxHQ"}},8259:(e,o,r)=>{"use strict";r.r(o),r.d(o,{default:()=>u});var n=r(7876),s=r(4188),t=r(6759),i=r(4232),a=r(2190),l=r.n(a),c=r(1777),d=r(7510),p=r(5982),h=r(2622);function u(){let e=(0,c.wA)(),o=(0,c.d4)(e=>e.auth),r=(0,c.d4)(e=>e.postReducer),[a,u]=(0,i.useState)({}),[m,_]=(0,i.useState)([]),[x,j]=(0,i.useState)(!1),[v,f]=(0,i.useState)({company:"",position:"",years:""}),k=e=>{let{name:o,value:r}=e.target;f({...v,[o]:r})};(0,i.useEffect)(()=>{e((0,d.Zt)({token:localStorage.getItem("token")})),e((0,h.zX)())},[]),(0,i.useEffect)(()=>{void 0!=o.user&&(u(o.user),_(r.posts.filter(e=>e.userId.username===o.user.userId.username)))},[o.user,r.posts]);let C=async o=>{let r=new FormData;r.append("profile_picture",o),r.append("token",localStorage.getItem("token")),await p.A.post("/update_profile_picture",r,{headers:{"Content-Type":"multipart/form-data"}}),e((0,d.Zt)({token:localStorage.getItem("token")}))},g=async()=>{p.A.post("/user_update",{token:localStorage.getItem("token"),name:a.userId.name}),await p.A.post("/user_profile_data",{token:localStorage.getItem("token"),bio:a.bio,currentPost:a.currentPost,postWork:a.postWork,education:a.education}),e((0,d.Zt)({token:localStorage.getItem("token")}))};return(0,n.jsx)(t.A,{children:(0,n.jsxs)(s.A,{children:[o.user&&a.userId&&(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsxs)("div",{className:l().backDropContainer,children:[(0,n.jsx)("label",{htmlFor:"profilePictureUpload",className:l().backDrop_overlay,children:(0,n.jsx)("p",{children:"Edit"})}),(0,n.jsx)("input",{onChange:e=>{C(e.target.files[0])},hidden:!0,type:"file",id:"profilePictureUpload"}),(0,n.jsx)("img",{src:"".concat(p.C,"/").concat(a.userId.profilePicture),alt:"backDrop"})]}),(0,n.jsx)("div",{className:l().profileContainer_details,children:(0,n.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,n.jsxs)("div",{style:{flex:"0.8"},children:[(0,n.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,n.jsx)("input",{type:"text",className:l().nameEdit,value:a.userId.name,onChange:e=>{u({...a,userId:{...a.userId,name:e.target.value}})}}),(0,n.jsxs)("p",{style:{color:"gray"},children:["@",a.userId.username]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{value:a.bio,onChange:e=>{u({...a,bio:e.target.value})},rows:Math.max(3,Math.ceil(a.bio.length/80)),style:{width:"100%"}})})]}),(0,n.jsxs)("div",{style:{flex:"0.2"},children:[(0,n.jsx)("h2",{children:"Recent Activity"}),m.map(e=>(0,n.jsx)("div",{className:l().postCard,children:(0,n.jsxs)("div",{className:l().card,children:[(0,n.jsx)("div",{className:l().card_profileContainer,children:""!==e.media?(0,n.jsx)("img",{src:"".concat(p.C,"/").concat(e.media),alt:"post"}):(0,n.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"}})}),(0,n.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,n.jsxs)("div",{className:l().workHistory,children:[(0,n.jsx)("h4",{children:"Work History"}),(0,n.jsxs)("div",{className:l().workHistoryContainer,children:[a.postWork.map((e,o)=>(0,n.jsxs)("div",{className:l().workHistoryCard,children:[(0,n.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),(0,n.jsxs)("p",{children:["Experience ",e.years," yr"]})]},o)),(0,n.jsx)("button",{className:l().addWorkButton,onClick:()=>{j(!0)},children:"Add Work"})]})]}),a!=o.user&&(0,n.jsx)("div",{onClick:()=>{g()},className:l().updateProfileBtn,children:"Update profile"})]}),x&&(0,n.jsx)("div",{onClick:()=>{j(!1)},className:l().commentsContainer,children:(0,n.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:l().allCommentsContainer,children:[(0,n.jsx)("input",{onChange:k,className:l().inputField,name:"company",type:"text",placeholder:"Enter Company"}),(0,n.jsx)("input",{onChange:k,className:l().inputField,name:"position",type:"text",placeholder:"Enter Position"}),(0,n.jsx)("input",{onChange:k,className:l().inputField,name:"years",type:"number",placeholder:"Years"}),(0,n.jsx)("div",{onClick:()=>{u({...a,postWork:[...a.postWork,v]}),j(!1)},className:l().updateProfileBtn,children:"Add Work"})]})})]})})}},8883:e=>{e.exports={container:"styles_container__ATYvi",navBar:"styles_navBar__TrKOB",nabBarOptionContainer:"styles_nabBarOptionContainer__GiJuk",buttonJoin:"styles_buttonJoin__X41AH"}},9099:(e,o,r)=>{e.exports=r(6296)},9275:(e,o,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(8259)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=9275)),_N_E=e.O()}]);